# 前后端接口需求分析（不完整，待补充讨论）

全局中只有一个玩家，即操作者；

其他玩家的牌不需要在前端显示；

（也许可以把uno抽象成一个状态机来看：前端输入行为，获取当前状态；后端通过行为计算当前状态）

## 交互定义

前后端的交互发生在：

- 玩家做出选择对应动作，即按下按钮之后；
- 其他玩家完成交互动作时

前端用户作出操作后将数据通过函数调用返回给后端，在后端完成计算之后，前端等待一定时间（可加载动画）之后刷新界面；

感觉可以采用前端调用函数：

```c

void next();

```

来通知后端进行的下一步计算，后端计算后返回的形式；这一步可以是其他玩家进行了相应操作，也可以是自己做出了交互得到的结果，然后前端再从后端获取需要的信息；

## 需要获取的数据（后端提供函数接口

卡牌类（用于显示卡牌）：

1. 获取卡牌种类
2. 获取卡牌id

玩家类（用于显示其他玩家信息）：

1. 获取玩家id
2. 获取玩家头像
3. 获取玩家当前牌的张数；
4. 获取当前玩家状态，即是否轮到

游戏类：

1. 获取当前状态：其他玩家出牌中、等待玩家出牌或摸牌、游戏是否结束等；
2. 获取出牌顺序
3. 获取上一个玩家出的牌；
4. 获取（可选）当前玩家可出的牌

## 后端提供给前端的函数调用：

1. 获取下一个状态；
2. 设置当前玩家操作：摸牌、出牌（需要判定是否能出牌）、叫UNO等